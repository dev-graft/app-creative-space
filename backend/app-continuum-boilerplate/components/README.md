# Components


client-{}
module-{}



MemberClient

흠 생각해보면 feign으로 처리할 수 있는 방법도 있고
이벤트를 공유해서 처리하는 방법이 있고
도메인 로직을 직접 호출해서 처리하는 방법이 있다.

서버를 잘게 나눌꺼면 feign인데
하나로 통합해둘꺼면 굳이 그럴 이유는 없다.
그렇다고 다른 도메인을 호출할 때 client를 주입받는 것을 구성한 상태에서 feign안쓴다고 다르게 처리하는 것도 이상하다.

조건
- feign을 쓰던 뭘 쓰던 다른 도메인의 로직을 호출하려면 client를 써야한다.
- 그렇다면 client는 해당 도메인의 module에 의존성을 갖어야한다.
- module은 client의 존재를 몰라야한다.
- 걱정하는건 api, app 영역이다. client는 아예 Controller와 Service 객체를 생성하지 못하게 막아버리는 방법이 나은가?
- 그렇다해도 client를 작성하는 사람입장에서는 api, app의 영역이 접근될 것이다.
- module의 도메인 영역을 별도의 패키지로 분리하는 방법도 있는데, 이렇게 되면 패키지만 우후죽순 늘어난다.


흠 생각해보면 통신을 통해 다른 도메인에 접근하면 결국 컨트롤러->app->domain이다.
즉 저 방법은 domain에 직접 접근이 아닌데
ddd는 애그리거트 간 호출에선 도메인 로직에만 접근을 허용한다.
즉 client코드가 도메인로직에 접근하는 내용이였다가 feign으로 바꾼다고 하면?
해당 로직은 api가 없으므로 member모듈 개발자가 바꿔줘야한다. << 최소한 이 부분은 서로 협의가 필요할 것이다.

흠 그렇다고 쓸모도 없는 내용을 api로 열어두기도 뭐한데
당초 서비스간 호출할 수 있는 코드는 외부의 접근을 막아야할 것이다.

결국 client와 module 개발자는 동일인물인게 편하다?
중간지점이라 생각한다. 패키지를 더 나누고자하면 눈이 어지럽고, 분리를 안하면 편리함을 위해 실수할 수 있고



